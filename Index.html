<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>JavaScript Stock Chart</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.jsdelivr.net/npm/apexcharts@3.27.3/dist/apexcharts.min.js"></script>
  </head>
  <body>  

    
    <img src="logo.gif" class="logo" alt="Logo">


    <div class="title"><!--title--> 
    <h1>Stock Spotter</h1></div>

    

    <!--Banner-->
    <marquee style="color:rgb(0, 0, 0);font-size:40px;" class="scroller">Item 1: up%   Item 2: up%   Item 3: up%   Item 4: up%   Item 5: up%   Item 6: up%   Item 7: up%   Item 8: up%  </marquee> <!--Scroller-->
    
    <div class="chart-container"> <!--Start of candle graph-->
      <div id="chart"></div>
    </div>
  
    <script>
// Define the variable 'data'
var data;

// Load the JSON data
fetch('json.txt')
  .then(response => response.json())
  .then(jsonData => {
    data = jsonData;

    // Prepare the data for the candlestick graph
    var series = [
      {
        data: data.map(item => ({
          x: new Date(item.Date),
          y: [
            Math.round(item.Open),
            Math.round(item.High),
            Math.round(item.Low),
            Math.round(item.Close),
          ],
        })),
      },
    ];

    // Create the chart using ApexCharts
    var options = {
      series: series,
      chart: {
        type: 'candlestick',
        height: 400,
      },
      title: {
        text: 'Candlestick Chart',
        align: 'center',
      },
      xaxis: {
        type: 'datetime',
      },
      yaxis: {
        labels: {
          formatter: function (value) {
            return Math.round(value);
          },
        },
      },
    };

    var chart = new ApexCharts(document.querySelector('#chart'), options);
    chart.render();
  })
  .catch(error => console.error(error));


    </script> <!--End of candle graph-->


      <div id="Stockp"> <!--Beginning of stock picker class-->
        <div class="menu">
          <div class="category" onmouseover="showDropdown('category1')" onmouseout="hideDropdown('category1')">
            <span>RSI</span>
            <div id="category1" class="dropdown">
              <a>RSI Overbought <input type="number" placeholder="# stocks to view" class="myinput1" id="stv1"> <button class="mybutton" id="stvb1"> Scan </button></a>
              <a>RSI Underbought <input type="number" placeholder="# stocks to view" class="myinput1" id="stv2"> <button class="mybutton" id="stvb2"> Scan </button></a>
            </div>
          </div>
          <div class="category" onmouseover="showDropdown('category2')" onmouseout="hideDropdown('category2')">
            <span>MACD</span>
            <div id="category2" class="dropdown">
              <a>MACD Strong Uptrend <input type="number" placeholder="# stocks to view" class="myinput1" id="stv3"> <button class="mybutton" id="stvb3"> Scan </button></a>
              <a>MACD Strong Downtrend <input type="number" placeholder="# stocks to view" class="myinput1" id="stv4"> <button class="mybutton" id="stvb4"> Scan </button></a>
            </div>
          </div>
          <div class="category" onmouseover="showDropdown('category3')" onmouseout="hideDropdown('category3')">
            <span>SMA</span>
            <div id="category3" class="dropdown">
              <a>Ticker <input placeholder="Ticker" class="myinput2" id="tickSMA"> 
                <label for="SMAtimesp">Time Period:</label>
                <select id="SMAtimesp">
                  <option value=20>20 day</option>
                  <option value=50>50 day</option>
                  <option value=100>100 day</option>
                </select>
                <label for="SMAtimelp">Time Period:</label>
                <select id="SMAtimelp">
                  <option value=250>250 day</option>
                  <option value=200>200 day</option>
                  <option value=150>150 day</option>
                </select> 
              <button class="mybutton" id="SMAb"> Scan </button></a>
            </div>
          </div>
          <div class="category" onmouseover="showDropdown('category4')" onmouseout="hideDropdown('category4')">
            <span>EMA</span>
            <div id="category4" class="dropdown">
              <a>Ticker <input placeholder="Ticker" class="myinput2" id="tickEMA"> </a>
              <label for="EMAtimesp">Time Period:</label>
              <select id="EMAtimesp">
                <option value=20>20 day</option>
                <option value=50>50 day</option>
                <option value=100>100 day</option>
              </select>
              <label for="EMAtimelp">Time Period:</label>
              <select id="EMAtimelp">
                <option value=250>250 day</option>
                <option value=200>200 day</option>
                <option value=150>150 day</option>
              </select> 
              <button class="mybutton" id="EMAb"> Scan </button>
            </div>
          </div>
        </div>
      
        <div id="text-container">
          <div id="text-content"></div>
          <img src="sponchbob.gif" width="300px" height="300px" id="sponch">
        </div>
      </div> <!--End of stock picker class-->

    <!--Pie Chart-->
    <div id="chartContainer"></div>

    <form id="dataForm">
      <label for="title">Stock:</label>
      <input type="text" id="title" placeholder="Enter Stock Symbol">
      <label for="money">Shares:</label>
      <input type="number" id="money" placeholder="Enter Number of Shares">
      <button type="button" onclick="addData()">Add</button>
    
  
    <ul id="dataList"></ul>
  
    <script src="https://cdn.jsdelivr.net/npm/apexcharts"></script></form>
    <!--End of Pie Chart-->
    

<body>
  
  <script src="script.js"></script>
</html>